version: "3.6"
x-logging:
  &default-logging
  options:
    max-size: '20m'
    max-file: '5'
  driver: json-file

services:
  ltcd:
    image: exchangeunion/ltcd-simnet
    # Let generated "rpc.cert" has "ltcd" domain name,
    # or it will deny lnd rpc connections
    hostname: ltcd
    environment:
      - NETWORK=simnet
    command: >
      --simnet
      --txindex
      --rpcuser=xu
      --rpcpass=xu
      --rpclisten=:18556
      --nolisten
      --addpeer=35.231.222.142:39555
    volumes:
      - ./data/ltcd:/root/.ltcd
    logging: *default-logging

  lndbtc:
    image: exchangeunion/lnd-simnet:latest
    hostname: lndbtc
    environment:
      - NETWORK=simnet
      - CHAIN=bitcoin
    volumes:
      - ./data/lndbtc:/root/.lnd
    logging: *default-logging

  lndltc:
    image: exchangeunion/lnd-simnet:latest
    hostname: lndltc
    environment:
      - NETWORK=simnet
      - CHAIN=litecoin
    volumes:
      - ./data/lndltc:/root/.lnd
      - ./data/ltcd:/root/.ltcd
    logging: *default-logging

  raiden:
    image: exchangeunion/raiden-simnet
    hostname: raiden
    environment:
      - NETWORK=simnet
      - KEYSTORE_PATH=/root/.raiden/keystore
      - RESOLVER_ENDPOINT=http://xud:8887/resolveraiden
      - ETH_RPC_ENDPOINT=35.231.222.142:8546
      - NETWORK_ID=4321
      - DATA_DIR=/root/.raiden
      - API_ADDRESS=0.0.0.0:5001
      - ENVIRONMENT_TYPE=development
      - PASSWORD_FILE=/root/.raiden/password.txt
      - TOKENNETWORK_REGISTRY_CONTRACT=0xdE8A2bdDF39C364e099D0637Dc1a7e2B8f73A4A5
      - SECRET_REGISTRY_CONTRACT=0xE51d15dEbe0F037ae787336782e3dA43ba653a8D
      - SERVICE_REGISTRY_CONTRACT=0x4C3Abe4F53247F03A663b55FF02fD403BaBf176d
      - ONE_TO_N_CONTRACT=0x7337e831cF5BD75B0045050E6C6549cf914A923D
      - USER_DEPOSIT_CONTRACT=0x19f8B656fBf17a83a5023eEbd675B1Ae5Bb5dF50
      - MONITORING_SERVICE_CONTRACT=0x3B26A3d3D0c262359d1807863aE0D0FB6831D081
      - GAS_PRICE=10000000000
      - MATRIX_SERVER=https://raidentransport.exchangeunion.com
      - ROUTING_MODE=private
    volumes:
      - ./data/raiden:/root/.raiden
    logging: *default-logging

  xud:
    image: exchangeunion/xud-simnet:latest
    hostname: xud
    environment:
      - NETWORK=simnet
    volumes:
      - ./data/xud:/root/.xud
      - ./data/lndbtc:/root/.lndbtc
      - ./data/lndltc:/root/.lndltc
    ports:
      - 28885:28885
    logging: *default-logging
